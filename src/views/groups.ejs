<%- include('header') %>

<link rel="stylesheet" href="../../assets/css/groups.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script src="../../assets/js/logout.js"></script>
<script src="../../assets/js/addGroups.js"></script>
<script src="../../assets/js/editGroups.js"></script>
<script src="../../assets/js/deleteGroups.js"></script>
<script src="../../assets/js/common.js"></script>


<button type="button" class="btn btn-primary mt-2" data-bs-toggle="modal" data-bs-target="#exampleModal">
    Add Group
</button>
<div id="pagination-controls">
  <button class="pagination-button" data-page="${pagination.currentPage - 1}" ${pagination.currentPage === 1 ? 'disabled' : ''}>Previous</button>
  <span>
      Page <input type="number" id="current-page-input" value="${pagination.currentPage}" min="1" max="${pagination.totalPages}" style="width: 50px; text-align: center;" /> of ${pagination.totalPages} 
  </span>
  <span>
      Rows per page: 
      <select id="rows-per-page" style="margin-left: 5px;">
          <option selected>Open this select menu</option>
      </select>
  </span>
  <button class="pagination-button" data-page="${pagination.currentPage + 1}" ${pagination.currentPage === pagination.totalPages ? 'disabled' : ''}>Next</button>
  
</div>

<div id="filter-controls">

  <input type="text" id="filter-groupName" name="filterGroupName" placeholder="Search by name">
  <input type="date" id="filter-create-date" name="filterDate" placeholder="Search by createdAt">

</div>

  <table id="contacts-table">
    <thead>
        <tr>
            <th>Group</th>
            <th>Created At</th>
            <th>Updated At</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="table-body">
      <!-- append contactsTable.ejs file which is made in server and get in response of postContactList api and then append this file using jquery by $("#table-body") -->
    </tbody>
  </table>

  <!-- Add Group Modal-1 -->

  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Add Group</h1>
        </div>
        <div class="modal-body">
        
            <form id="add-group-form" enctype="multipart/form-data">
        
              <input type="hidden" id="get-group-id" name="groupId" value="">

              <label for="groupName">Enter Group name:</label>
              <input type="text" id="groupName" name="groupName">

              <button type="button" id="close-modal" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" id="add-group" class="btn btn-primary">Save changes</button>
            </form>

        </div>
    </div>
    </div>
  </div>

  <!-- Update Group Modal-2 -->


  <div class="modal fade" id="exampleModal11" tabindex="-1" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Edit Group</h1>
        </div>
        <div class="modal-body">
        
            <form id="edit-group-form" enctype="multipart/form-data">
        
              <input type="hidden" id="edit-group-id" name="groupId" value="">

              <label for="groupName">Enter Group name:</label>
              <input type="text" id="edit-groupName" value="" name="groupName">

              <button type="button" id="close-modal" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" id="edit-group" class="btn btn-primary">Save changes</button>
            </form>

        </div>
    </div>
    </div>
  </div>

  <!-- delete Group Modal-3 -->

  <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModal1Label">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Contact</h1>
        </div>
        <div class="modal-body">
        
          <form id="delete-group-form" enctype="multipart/form-data">
              <input type="hidden" id="delete-group-id" name="groupId" value="">
              <button type="button" id="close-modal" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" id="delete-group" class="btn btn-primary">Confirm Delete</button>
          </form>

        </div>
    </div>
    </div>
  </div>

    <%- include('footer') %>
  
</body>
</html>